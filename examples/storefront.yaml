# yaml-language-server: $schema=https://raw.githubusercontent.com/jackcrane/cypress-yaml-plugin/main/schema.json
name: Storefront smoke
description: Basic purchase path touching every built-in command
seedFile: cypress/fixtures/db/store.json
steps:
  - open: /
  - setViewport:
      width: 1280
      height: 720
  - waitFor:
      seconds: 1
  - assertVisible:
      dataCy: hero-banner
      allowScroll: true
  - tapOn:
      dataCy: primary-cta
      allowScroll: true
  - typeText:
      selector: '[data-cy="email-field"]'
      text: tester@example.com
      clear: true
  - assertContains:
      selector: '[data-cy="welcome"]'
      text: Welcome
  - assertText:
      selector: '[data-cy="status"]'
      text: Ready
  - assertNotVisible:
      selector: '[data-cy="loading"]'
      mode: missing
  - scrollIntoView: '[data-cy="footer"]'
  - expectUrl:
      includes: /dashboard
  - log: Visited dashboard
  - takeScreenshot: dashboard-view
  - saveSnapshot:
      name: dashboard-state
  - pause
  - "Smoke run finished"
